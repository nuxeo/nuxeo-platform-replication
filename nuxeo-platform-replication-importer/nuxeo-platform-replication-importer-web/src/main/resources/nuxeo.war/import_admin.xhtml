<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<nxthemes:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:nxthemes="http://nuxeo.org/nxthemes" xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html"
  xmlns:c="http://java.sun.com/jstl/core" xmlns:a4j="https://ajax4jsf.dev.java.net/ajax">

  <ui:define name="page title">
    <h:outputText value="#{messages['title.import_admin']}" />
  </ui:define>

  <ui:define name="body">
    <a4j:region>
      <div><h:form>
        <ui:include src="/incl/message_banner.xhtml" />
        <h:panelGrid id="fileCount" columns="2" styleClass="dataInput"
          columnClasses="labelColumn, fieldColumn">
          <h:outputLabel value="#{importActions.fileCount} imported documents." />
          <h:outputLabel value="Status Done: #{importActions.done}" />
        </h:panelGrid>
        <h:panelGrid columns="2" styleClass="dataInput" columnClasses="labelColumn, fieldColumn">
          <h:outputLabel for="path" class="required" value="#{messages['label.import.path']}" />
          <h:panelGroup>
            <h:inputText id="path" value="#{importActions.path}" required="true" />
            <h:message for="path" />
          </h:panelGroup>
        </h:panelGrid>
        <h:panelGrid columns="1" styleClass="dataInput">
          <a4j:commandLink id="importCmd" value="#{messages['command.import_import']}"
            action="#{importActions.startImport}" rendered="#{not importActions.done}" reRender="importCmd"/>
        </h:panelGrid>
  
        <a4j:poll id="refreshId" reRender="fileCount , importCmd" timeout="50000" interval="500" />
      </h:form></div>
    </a4j:region>
  </ui:define>

</nxthemes:composition>
